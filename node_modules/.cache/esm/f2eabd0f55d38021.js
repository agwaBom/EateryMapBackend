let express,bodyParser,passport,mongoose,facebookLogin,facebookMiddleware,googleLogin,googleMiddleware,oauthCallback,list,create;_55d‍.w("express",[["default",["express"],function(v){express=v}]]);_55d‍.w("body-parser",[["default",["bodyParser"],function(v){bodyParser=v}]]);_55d‍.w("passport",[["default",["passport"],function(v){passport=v}]]);_55d‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_55d‍.w("./controllers/auth",[["facebookLogin",["facebookLogin"],function(v){facebookLogin=v}],["facebookMiddleware",["facebookMiddleware"],function(v){facebookMiddleware=v}],["googleLogin",["googleLogin"],function(v){googleLogin=v}],["googleMiddleware",["googleMiddleware"],function(v){googleMiddleware=v}],["oauthCallback",["oauthCallback"],function(v){oauthCallback=v}]]);_55d‍.w("./controllers/comments",[["list",["list"],function(v){list=v}],["create",["create"],function(v){create=v}]]);












// Connect to MongoDB
mongoose.Promise = global.Promise;
mongoose.connect('mongodb://localhost/react-native-comments');

// Initialize http server
const app = express();
app.use(bodyParser.json());
// Initialize Passport
app.use(passport.initialize());
app.use(passport.session());

// Set up auth routes
app.get('/auth/facebook', facebookLogin);
app.get('/auth/google', googleLogin);
app.get('/auth/facebook/callback', facebookMiddleware, oauthCallback);
app.get('/auth/google/callback', googleMiddleware, oauthCallback);

// Set up comment routes
app.route('/comments')
  .get(list)
  .put(create);

// Launch the server on the port 3000
const server = app.listen(3000, () => {
  const { address, port } = server.address();
  console.log(`Listening at http://${address}:${port}`);
});